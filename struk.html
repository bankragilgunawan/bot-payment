<!DOCTYPE html><html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Nota Thermal Elegan</title>
  <style>
    body {
      font-family: 'Courier New', Courier, monospace;
      background: linear-gradient(to right, #e0eafc, #cfdef3);
      padding: 30px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }textarea {
  width: 100%;
  max-width: 600px;
  height: 180px;
  font-size: 14px;
  padding: 12px;
  border: 1px solid #aaa;
  border-radius: 8px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  resize: vertical;
}

.btn-group {
  margin-top: 10px;
  display: flex;
  gap: 10px;
}

button {
  padding: 10px 16px;
  font-size: 14px;
  border: none;
  border-radius: 6px;
  background-color: #007bff;
  color: white;
  cursor: pointer;
  transition: background 0.3s ease;
}

button:hover {
  background-color: #0056b3;
}

#nota {
  position: relative;
  width: 300px;
  background: #fff;
  padding: 20px;
  margin-top: 30px;
  border: 1px solid #ddd;
  border-radius: 10px;
  font-size: 12px;
  line-height: 1.5;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  white-space: pre-wrap;
  overflow: hidden;
}

#watermark {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) rotate(-30deg);
  font-size: 16px;
  font-weight: bold;
  color: rgba(0, 0, 0, 0.05);
  text-align: center;
  z-index: 0;
  white-space: pre-line;
  pointer-events: none;
}

.logo, .judul, .tanggal, .section, .garis, .center {
  position: relative;
  z-index: 1;
}

.logo {
  text-align: center;
  margin-bottom: 10px;
}

.logo img {
  max-width: 70px;
  height: auto;
}

.judul {
  text-align: center;
  font-size: 14px;
  font-weight: bold;
  margin: 5px 0;
}

.tanggal {
  text-align: center;
  font-size: 11px;
  margin-bottom: 10px;
}

.garis {
  border-top: 1px dashed #333;
  margin: 10px 0;
}

.section {
  margin-bottom: 8px;
}

.center {
  text-align: center;
  font-weight: bold;
  margin-top: 10px;
}

@media print {
  body {
    background: none;
    padding: 0;
  }
  textarea, .btn-group, h3 {
    display: none !important;
  }
  #nota {
    border: none;
    box-shadow: none;
    width: 100%;
  }
}

  </style>
</head>
<body><h3>Struk Digital by Bot-Payment</h3>
<textarea id="inputText" placeholder="Masukkan isi nota..."></textarea>
<div class="btn-group">
  <button onclick="buatNota()">Buat Nota</button>
  <button onclick="downloadNota()">Download</button>
  <button onclick="window.print()">Cetak</button>
</div><div id="nota">
  <div id="watermark">
    bot-payment\nby: bankragilgunawan@gmail.com
  </div>
</div><script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script><script>
  function buatNota() {
    const input = document.getElementById("inputText").value.trim();
    const lines = input.split("\n");
    const nota = document.getElementById("nota");
    nota.querySelectorAll('.logo, .judul, .tanggal, .section, .garis, .center').forEach(e => e.remove());

    const logoDiv = document.createElement('div');
    logoDiv.className = 'logo';
    const logoImg = document.createElement('img');
    logoImg.src = "https://bankragilgunawan.wordpress.com/wp-content/uploads/2025/07/10000107376979112625138413541.png";
    logoDiv.appendChild(logoImg);
    nota.appendChild(logoDiv);

    const judul = document.createElement('div');
    judul.className = 'judul';
    judul.textContent = lines.shift().replace(/\*/g, '');
    nota.appendChild(judul);

    const tanggalDiv = document.createElement('div');
    tanggalDiv.className = 'tanggal';
    const now = new Date();
    tanggalDiv.textContent = `Dicetak: ${now.toLocaleDateString('id-ID')} ${now.toLocaleTimeString('id-ID')}`;
    nota.appendChild(tanggalDiv);

    const info = document.createElement('div');
    info.className = 'section';
    info.textContent = lines.shift();
    nota.appendChild(info);

    const garis1 = document.createElement('div');
    garis1.className = 'garis';
    nota.appendChild(garis1);

    const isiUtama = document.createElement('div');
    isiUtama.className = 'section';
    isiUtama.textContent = lines.slice(0, -1).join('\n');
    nota.appendChild(isiUtama);

    const garis2 = document.createElement('div');
    garis2.className = 'garis';
    nota.appendChild(garis2);

    const akhir = document.createElement('div');
    akhir.className = 'center';
    akhir.textContent = lines[lines.length - 1];
    nota.appendChild(akhir);
  }

  function downloadNota() {
    html2canvas(document.getElementById("nota")).then(canvas => {
      const link = document.createElement("a");
      link.download = "nota_lengkap.png";
      link.href = canvas.toDataURL("image/png");
      link.click();
    });
  }
</script></body>
</html>
